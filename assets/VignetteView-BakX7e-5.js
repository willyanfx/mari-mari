import{d as B,e as m,r as w,c as o,a as s,t as e,F as g,b as y,g as f,h as z,w as D,i as V,f as F,o as c,n as k,j as _,R as L}from"./index-XOqzaDHP.js";import{v as O}from"./vignettes-CCsakr9K.js";const T={key:0,class:"question"},Y=["onClick"],j={key:1,class:"results"},E={class:"back-to-vignettes"},J=B({__name:"VignetteView",setup(S){const h=F(),x=Number(h.params.examId),I=Number(h.params.vignetteId),u=m(()=>O.vignettes.find(r=>r.id===I)),i=w(0),l=w([]),p=w(!1),v=m(()=>{var r;return(r=u.value)==null?void 0:r.questions[i.value]}),A=(r,t)=>r.options[t]||"No answer selected",Q=r=>{var t;v.value&&(l.value[i.value]=r,i.value<(((t=u.value)==null?void 0:t.questions.length)||0)-1?i.value++:p.value=!0)},R=m(()=>u.value?u.value.questions.reduce((r,t,d)=>r+(t.correctAnswer===l.value[d]?1:0),0):0);return(r,t)=>{var d,C,N,b;return c(),o(g,null,[s("h1",null,e((d=u.value)==null?void 0:d.title),1),s("p",null,e((C=u.value)==null?void 0:C.description),1),!p.value&&v.value?(c(),o("div",T,[s("h2",null,"Question "+e(i.value+1),1),s("p",null,e(v.value.text),1),s("ol",null,[(c(!0),o(g,null,y(v.value.options,(a,n)=>(c(),o("li",{key:n},[s("button",{onClick:$=>Q(n),class:k({selected:l.value[i.value]===n})},e(n)+". "+e(a),11,Y)]))),128))])])):f("",!0),p.value?(c(),o("div",j,[t[2]||(t[2]=s("h2",null,"Quiz Results",-1)),s("p",null,"Your score: "+e(R.value)+" / "+e((N=u.value)==null?void 0:N.questions.length),1),(c(!0),o(g,null,y((b=u.value)==null?void 0:b.questions,(a,n)=>(c(),o("div",{key:n},[s("h3",null,"Question "+e(n+1),1),s("p",null,e(a.text),1),s("p",{class:k({right:a.correctAnswer===l.value[n]})},"Your answer: Option "+e(l.value[n])+" - "+e(A(a,l.value[n])),3),a.correctAnswer!==l.value[n]?(c(),o("p",{key:0,class:k({wrong:a.correctAnswer!==l.value[n]})},[t[0]||(t[0]=_("Correct answer: ")),s("strong",null,"Option "+e(a.correctAnswer),1),_(" - "+e(A(a,a.correctAnswer)),1)],2)):f("",!0)]))),128)),s("nav",E,[z(V(L),{to:{name:"exam-detail",params:{id:V(x)}}},{default:D(()=>t[1]||(t[1]=[_(" ðŸ‘ˆ Back")])),_:1},8,["to"])])])):f("",!0)],64)}}});export{J as default};
