import{d as L,e as m,r as w,c as u,a as e,t,F as g,b as N,g as _,h as T,w as z,i as V,f as F,o as c,n as f,j as h,R as H}from"./index-C3hh67c8.js";import{t as M,a as O}from"./vignettes_3-C8smNmGD.js";const Y={key:0,class:"question"},j={class:"options"},D=["onClick"],E={key:1,class:"results"},S=["innerHTML"],$={class:"back-to-vignettes"},U=L({__name:"VignetteView",setup(G){const k=F(),A=Number(k.params.examId),I=Number(k.params.vignetteId),Q=A===1?M:O,r=m(()=>Q.find(a=>a.id===I)),i=w(0),o=w([]),d=w(!1),v=m(()=>{var a;return(a=r.value)==null?void 0:a.questions[i.value]}),b=(a,s)=>a.options[s]||"No answer selected",R=a=>{var s;v.value&&(o.value[i.value]=a,i.value<(((s=r.value)==null?void 0:s.questions.length)||0)-1?i.value++:d.value=!0)},B=m(()=>r.value?r.value.questions.reduce((a,s,p)=>a+(s.correctAnswer===o.value[p]?1:0),0):0);return(a,s)=>{var p,x,y,C;return c(),u(g,null,[e("h1",null,t((p=r.value)==null?void 0:p.title),1),e("p",null,t((x=r.value)==null?void 0:x.vignette),1),!d.value&&v.value?(c(),u("div",Y,[e("h2",null,"Question "+t(i.value+1),1),e("p",null,t(v.value.text),1),e("ol",j,[(c(!0),u(g,null,N(v.value.options,(l,n)=>(c(),u("li",{key:n},[e("button",{onClick:J=>R(n),class:f([{selected:o.value[i.value]===n},"no-button-style choice-button"])},t(n)+". "+t(l),11,D)]))),128))])])):_("",!0),d.value?(c(),u("div",E,[s[2]||(s[2]=e("h2",null,"Quiz Results",-1)),e("p",null,"Your score: "+t(B.value)+" / "+t((y=r.value)==null?void 0:y.questions.length),1),(c(!0),u(g,null,N((C=r.value)==null?void 0:C.questions,(l,n)=>(c(),u("div",{key:n},[e("h3",null,"Question "+t(n+1),1),e("p",null,t(l.text),1),e("p",{class:f({right:l.correctAnswer===o.value[n]})},"Your answer: Option "+t(o.value[n])+" - "+t(b(l,o.value[n])),3),l.correctAnswer!==o.value[n]?(c(),u("p",{key:0,class:f({wrong:l.correctAnswer!==o.value[n]})},[s[0]||(s[0]=h("Correct answer: ")),e("strong",null,"Option "+t(l.correctAnswer),1),h(" - "+t(b(l,l.correctAnswer)),1)],2)):_("",!0),e("p",{innerHTML:l.explanation,class:"explanation"},null,8,S)]))),128)),e("nav",$,[T(V(H),{to:{name:"exam-detail",params:{id:V(A)}}},{default:z(()=>s[1]||(s[1]=[h(" ðŸ‘ˆ Back")])),_:1},8,["to"])])])):_("",!0)],64)}}});export{U as default};
