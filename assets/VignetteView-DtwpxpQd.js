import{d as I,e as d,r as _,c as r,a as e,t,F as f,b as C,g as b,f as N,o as a,n as V}from"./index-Bxq36I3p.js";import{v as q}from"./vignettes-BxhhKaty.js";const B={key:0,class:"question"},R=["onClick"],x={key:1,class:"results"},E=I({__name:"VignetteView",setup(z){const g=N();Number(g.params.examId);const y=Number(g.params.vignetteId),u=d(()=>q.vignettes.find(s=>s.id===y)),o=_(0),c=_([]),p=_(!1),m=d(()=>{var s;return(s=u.value)==null?void 0:s.questions[o.value]}),Q=s=>{var n;c.value[o]=s,o.value<(((n=u.value)==null?void 0:n.questions.length)||0)-1?o.value++:p.value=!0},A=d(()=>u.value?u.value.questions.reduce((s,n,v)=>s+(n.correntAnswer===c.value[v]?1:0),0):0);return(s,n)=>{var v,h,k,w;return a(),r(f,null,[e("h1",null,t((v=u.value)==null?void 0:v.title),1),e("p",null,t((h=u.value)==null?void 0:h.description),1),!p.value&&m.value?(a(),r("div",B,[e("h2",null,"Question "+t(o.value+1),1),e("p",null,t(m.value.text),1),e("ul",null,[(a(!0),r(f,null,C(m.value.options,(i,l)=>(a(),r("li",{key:l},[e("button",{onClick:D=>Q(l),class:V({selected:c.value[o.value]===l})},t(i),11,R)]))),128))])])):b("",!0),p.value?(a(),r("div",x,[n[0]||(n[0]=e("h2",null,"Quiz Results",-1)),e("p",null,"Your score: "+t(A.value)+" / "+t((k=u.value)==null?void 0:k.questions.length),1),(a(!0),r(f,null,C((w=u.value)==null?void 0:w.questions,(i,l)=>(a(),r("div",{key:l},[e("h3",null,"Question "+t(l+1),1),e("p",null,t(i.text),1),e("p",null,"Your answer: "+t(i.options[c.value[l]]),1),e("p",null,"Correct answer: "+t(i.options[i.correctAnswer]),1)]))),128))])):b("",!0)],64)}}});export{E as default};
