import{d as B,e as m,r as g,c as u,a as e,t,F as w,b as C,g as _,h as L,w as T,i as N,f as z,o as c,n as f,j as h,R as D}from"./index-CwvtG9jA.js";import{v as F}from"./vignettes-Cv_juefb.js";const H={key:0,class:"question"},M={class:"options"},O=["onClick"],Y={key:1,class:"results"},j=["innerHTML"],E={class:"back-to-vignettes"},K=B({__name:"VignetteView",setup(S){const k=z(),V=Number(k.params.examId),I=Number(k.params.vignetteId),r=m(()=>F.vignettes.find(a=>a.id===I)),i=g(0),o=g([]),d=g(!1),v=m(()=>{var a;return(a=r.value)==null?void 0:a.questions[i.value]}),A=(a,s)=>a.options[s]||"No answer selected",Q=a=>{var s;v.value&&(o.value[i.value]=a,i.value<(((s=r.value)==null?void 0:s.questions.length)||0)-1?i.value++:d.value=!0)},R=m(()=>r.value?r.value.questions.reduce((a,s,p)=>a+(s.correctAnswer===o.value[p]?1:0),0):0);return(a,s)=>{var p,b,x,y;return c(),u(w,null,[e("h1",null,t((p=r.value)==null?void 0:p.title),1),e("p",null,t((b=r.value)==null?void 0:b.vignette),1),!d.value&&v.value?(c(),u("div",H,[e("h2",null,"Question "+t(i.value+1),1),e("p",null,t(v.value.text),1),e("ol",M,[(c(!0),u(w,null,C(v.value.options,(l,n)=>(c(),u("li",{key:n},[e("button",{onClick:$=>Q(n),class:f([{selected:o.value[i.value]===n},"no-button-style choice-button"])},t(n)+". "+t(l),11,O)]))),128))])])):_("",!0),d.value?(c(),u("div",Y,[s[2]||(s[2]=e("h2",null,"Quiz Results",-1)),e("p",null,"Your score: "+t(R.value)+" / "+t((x=r.value)==null?void 0:x.questions.length),1),(c(!0),u(w,null,C((y=r.value)==null?void 0:y.questions,(l,n)=>(c(),u("div",{key:n},[e("h3",null,"Question "+t(n+1),1),e("p",null,t(l.text),1),e("p",{class:f({right:l.correctAnswer===o.value[n]})},"Your answer: Option "+t(o.value[n])+" - "+t(A(l,o.value[n])),3),l.correctAnswer!==o.value[n]?(c(),u("p",{key:0,class:f({wrong:l.correctAnswer!==o.value[n]})},[s[0]||(s[0]=h("Correct answer: ")),e("strong",null,"Option "+t(l.correctAnswer),1),h(" - "+t(A(l,l.correctAnswer)),1)],2)):_("",!0),e("p",{innerHTML:l.explanation,class:"explanation"},null,8,j)]))),128)),e("nav",E,[L(N(D),{to:{name:"exam-detail",params:{id:N(V)}}},{default:T(()=>s[1]||(s[1]=[h(" ðŸ‘ˆ Back")])),_:1},8,["to"])])])):_("",!0)],64)}}});export{K as default};
